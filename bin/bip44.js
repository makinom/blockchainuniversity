// Simple BIP 44 example - deterministic wallets
var BIP39 = require('fullnode/lib/bip39')
var BIP32 = require('fullnode/lib/bip32')
var Address = require('fullnode/lib/address')

var bip39 = BIP39().fromRandom()
var mnemonic = BIP39().fromRandom().toString()
console.log('mnemonic: ' + mnemonic)
var seed = bip39.toSeed()
var bip32 = BIP32().fromSeed(seed)
console.log('master xprv: ' + bip32.toString())
console.log('account 0, address 0: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/0\'/0/0').pubkey))
console.log('account 0, change address 0: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/0\'/1/0').pubkey))
console.log('account 0, address 1: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/0\'/0/1').pubkey))
console.log('account 0, change address 1: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/0\'/1/1').pubkey))
console.log('account 1, address 0: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/1\'/0/0').pubkey))
console.log('account 1, change address 0: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/1\'/1/0').pubkey))
console.log('account 1, address 1: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/1\'/0/1').pubkey))
console.log('account 1, change address 1: ' + Address().fromPubkey(bip32.derive('m/44\'/0\'/1\'/1/1').pubkey))
